-- ‚è±Ô∏è DuracionPromedioDias ‚Äî Promedio de duraci√≥n entre dos fechas
--
-- Esta medida calcula el n√∫mero promedio de d√≠as que duran los procesos
-- registrados en la tabla de hechos, considerando solo aquellos que tienen
-- una fecha de fin v√°lida (no en blanco).

DuracionPromedioDias = 
AVERAGEX(
    FILTER(
        FactProcesos,
        NOT ISBLANK(FactProcesos[FechaFin])
    ),
    DATEDIFF(FactProcesos[FechaInicio], FactProcesos[FechaFin], DAY)
)

-- üß† Explicaci√≥n paso a paso:
-- - FILTER(...): excluye los registros sin fecha de fin
-- - DATEDIFF(..., DAY): calcula la duraci√≥n en d√≠as entre el inicio y el fin
-- - AVERAGEX(...): promedia esas duraciones para obtener un valor general

-- üìä Ejemplo de datos:
-- FechaInicio     | FechaFin       | D√≠as
-- 2024-01-01      | 2024-01-10     | 9
-- 2024-01-05      | 2024-01-08     | 3
-- 2024-01-10      | (BLANK)        | (excluido)
-- Promedio:                             6

-- ‚úÖ Cu√°ndo usar esta medida:
-- - Para calcular tiempos de entrega, resoluci√≥n, producci√≥n o tramitaci√≥n
-- - Para analizar cuellos de botella o eficiencia operativa
-- - Para establecer SLA (Service Level Agreement) en procesos

-- üí° Consejo:
-- Si manejas procesos con pausas, podr√≠as crear una versi√≥n que reste feriados
-- o solo cuente d√≠as laborales usando una tabla de calendario con indicadores.
